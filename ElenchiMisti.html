<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lista Nera</title>
    <link rel="stylesheet" href="ElenchiMisti.css">
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f9;
            margin: 0;
            padding: 20px;
            color: #333;
        }

        h1 {
            text-align: center;
            color: #4CAF50;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #fff;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            border-radius: 10px;
        }

        .output {
            margin-top: 20px;
            padding: 15px;
            background-color: #f9f9f9;
            border: 1px solid #ddd;
            border-radius: 5px;
            min-height: 50px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }

        th, td {
            padding: 8px 12px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }

        th {
            background-color: #4CAF50;
            color: white;
        }

        button {
            background-color: #4CAF50;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin: 10px 0;
            font-size: 16px;
            width: 100%;
        }

        button:hover {
            background-color: #45a049;
        }

        input[type="number"], select {
            padding: 10px;
            font-size: 16px;
            margin-top: 10px;
            width: 100%;
            border-radius: 5px;
            border: 1px solid #ddd;
        }

        input[type="button"], input[type="number"], select {
            width: 100%;
            margin-bottom: 15px;
        }
    </style>
    <script>
        let parseJSON = [];
        let filehttp;

        function caricaDatiJ() {
            const richiesta = new XMLHttpRequest();
            richiesta.open("GET", "https://vizcarrondo.github.io/TPS-5Ai/ElenchiMisti.json", true);
            richiesta.send();

            richiesta.onload = function () {
                parseJSON = JSON.parse(richiesta.responseText);
            };
        }

        function caricaDatiX() {
            const richiesta = new XMLHttpRequest();
            richiesta.onreadystatechange = function () {
                if (this.readyState == 4 && this.status == 200) {
                    myFunction(this);
                }
            };
            richiesta.open("GET", "https://vizcarrondo.github.io/TPS-5Ai/ElenchiMisti.xml", true);
            richiesta.send();

            function myFunction(file) {
                filehttp = file.responseXML;
                console.log(filehttp);
            }
        }

        function letturaX() {
            let persone = filehttp.documentElement.children;
            let campi = persone[0].children;
            let tabella = document.createElement("table");
            let intestazioneRow = document.createElement("tr");

            for (let i = 0; i < campi.length; i++) {
                let intestazione = document.createElement("th");
                intestazione.textContent = campi[i].tagName;
                intestazioneRow.appendChild(intestazione);
            }
            tabella.appendChild(intestazioneRow);

            for (let i = 0; i < persone.length; i++) {
                let riga = document.createElement("tr");
                let dati = persone[i].children;

                for (let j = 0; j < dati.length; j++) {
                    let intestazione = document.createElement("td");
                    intestazione.textContent = dati[j].textContent;
                    riga.appendChild(intestazione);
                }
                tabella.appendChild(riga);
            }

            document.getElementById("outputX").appendChild(tabella);
        }

        function lettura() {
            let tabella = document.createElement("table");
            const chiavi = Object.keys(parseJSON[0]);
            let intestazioneRow = document.createElement("tr");

            for (let i = 0; i < chiavi.length; i++) {
                let intestazione = document.createElement("th");
                intestazione.textContent = chiavi[i];
                intestazioneRow.appendChild(intestazione);
            }
            tabella.appendChild(intestazioneRow);

            for (let i = 0; i < parseJSON.length; i++) {
                let righe = document.createElement("tr");

                for (let j = 0; j < chiavi.length; j++) {
                    let colonne = document.createElement("td");
                    colonne.textContent = parseJSON[i][chiavi[j]];
                    righe.appendChild(colonne);
                }

                tabella.appendChild(righe);
            }

            let output = document.getElementById("output");
            output.appendChild(tabella);
        }

        function maggiorenni() {
            let maggiorenni = "";
            for (let i = 0; i < parseJSON.length; i++) {
                if (parseJSON[i]["età"] > 18) {
                    maggiorenni += parseJSON[i]["cognome"] + " " + parseJSON[i]["età"] + "<br>";
                }
            }
            document.getElementById("outputM").innerHTML = maggiorenni;
        }

        function ricerca() {
            let lettera = document.getElementById("ricerca").value;
            let cognomi = "I cognomi che iniziano con " + lettera + " sono: ";
            for (let i = 0; i < parseJSON.length; i++) {
                if (parseJSON[i]["cognome"].startsWith(lettera)) {
                    cognomi += parseJSON[i]["cognome"] + "<br>";
                }
            }
            document.getElementById("outputC").innerHTML = cognomi;
        }

        function generazione() {
            let anno = document.getElementById("eta").value;
            let generazione = "";
            if (anno >= 1901 && anno <= 1927) {
                generazione = "Appartieni alla Greatest Generation (1901-1927)";
            } else if (anno >= 1928 && anno <= 1945) {
                generazione = "Appartieni alla Generazione Silenziosa (1928-1945)";
            } else if (anno >= 1946 && anno <= 1964) {
                generazione = "Appartieni ai Baby Boomers (1946-1964)";
            } else if (anno >= 1965 && anno <= 1980) {
                generazione = "Appartieni alla Generazione X (1965-1980)";
            } else if (anno >= 1981 && anno <= 1996) {
                generazione = "Appartieni ai Millenials (1981-1996)";
            } else if (anno >= 1997 && anno <= 2012) {
                generazione = "Appartieni alla Generazione Z (1997-2012)";
            } else if (anno >= 2013) {
                generazione = "Appartieni alla Generazione Alpha (dal 2013 in poi)";
            } else {
                generazione = "Anno di nascita non valido";
            }
            document.getElementById("outputG").innerHTML = generazione;
        }

        function caricaDati() {
            caricaDatiX();
            caricaDatiJ();
        }
    </script>
</head>
<body onload="caricaDati()">
    <div class="container">
        <h1>Lista Nera</h1>
        <div class="output" id="output"></div>
        <div class="output" id="outputX"></div>

        <button onclick="lettura()">Visualizza JSON</button>
        <button onclick="letturaX()">Visualizza XML</button>

        <label for="ricerca">Inserisci la lettera dei cognomi da cercare</label>
        <select id="ricerca" name="ricerca">
            <option value="A">A</option>
            <option value="B">B</option>
            <option value="C">C</option>
            <option value="D">D</option>
            <option value="E">E</option>
            <option value="F">F</option>
            <option value="G">G</option>
            <option value="H">H</option>
            <option value="I">I</




